---
title: CPU
date: 2025-05-03 08:00:41
categories:
  - 计算机
tags:
  - 计算机组成原理
mathjax: true
---

## 具体功能
- 指令控制：程序的顺序控制
- 操作控制：控制部件正确执行
- 时间控制：控制操作信号的持续时间，时间顺序
- 数据加工：算术逻辑运算
- 中断处理：异常情况进行处理

## CPU模型
![图片描述](/IMG/image.png)

## CPU寄存器

### 用户可见寄存器
用于减少访存次数，由汇编程序员调用

### 用户不可见寄存器
控制部件使用，控制CPU的操作

### 运算器寄存器
![图片描述](/IMG/image-1.png)

### 存储器寄存器
![图片描述](/IMG/image-3.png)

## 指令模型

### 指令周期
![图片描述](/IMG/image-5.png)
如上所示，一条完整的指令周期，需要分别经历取指阶段和执行阶段
对于间址周期，不一定每次都采用，而是只有需要间接寻址的指令，才需要这个周期
#### 取指周期
核心任务：根据PC中的内容，从主存中取出指令代码，放置于IR寄存器，PC自加1
数据流大概如下：
1、从PC发地址到存储器
2、从CU发出读命令
3、从存储器拿到数据，存到IR
4、PC自加一
#### 间址周期
核心任务：取操作数有效地址。
数据流：
1、IR/MAR的地址到主存
2、CU发出读命令到主存
3、主存数据流向MDR
#### 执行周期
核心任务：取操作数，根据IR中的指令字的操作码通过ALU产生结果，无固定数据流

#### 中断周期
核心任务：处理中断请求。
假设断点存入堆栈，SP指向栈帧地址，进栈操作先修改栈顶指针，后存入数据。
数据流：
1、先将栈顶指针-1，然后将SP中的地址存入主存（保存当前栈空间，后续用栈的话，只会增加空间然后用）
2、CU发出写命令，将SP地址写入主存
3、PC地址存入主存
4、最后将中断服务程序的开始地址给到PC

### 指令执行方案
#### 单周期处理器
特点：
1、每条指令在一个CPU周期内完成
2、串行执行
#### 多周期处理器
1、每条指令为期选择不同的执行步骤，需要几个周期，就给几个
2、串行执行

#### 流水线处理器
1、并行执行

# 控制器
## 结构与功能
![图片描述](/IMG/image-6.png)
控制器的核心功能：
1、从主存中取出一条指令，并指出下一条指令在主存中的位置
2、对指令进行译码，产生相应的控制信号
3、指挥并控制CPU、主存、输入输出设备之间的数据流动方向

### 

