# 数据传输的基本概念
- 通信：两个有距离的点之间的信息传输
- 消息：具体的传输的内容
- 信号：可以表述为关于时间的函数
- 信道：传输信息的介质
- 带宽：未被强烈衰减的频率范围的宽度
- 信道容量：信道的最大数据率
- 吞吐量：网络容量的度量，单位时间内网络可以传输的数据位数(bps)
- 负载：单位时间内注入网络的数据位数(相当于数据量对时间的导数)
- 误码率BER(bit error rate)：信道传输可靠性指数$$P = \frac{传输错的位数}{总位数}$$
- 时延：从向网络中发送数据块的第一位开始，到最后一位数据被接收所经历的时间
- 时延的组成：包括发送时延，传输时延，节点处理时延（不关心），排队时延（不关心）
时延的计算是一个重点，这里就前两个时延展开讨论：发送时延指的是设备发送一个数据块所需的时间，传输时延指的是通过介质传播的时间
我们所谓的带宽，用来衡量的就是发送时延。发送时延=带宽/数据长度
发送时延 = 介质长度/传播速率
- 带宽时延积：充满整个链路的比特数，可以理解为把水管充满所需要的水
计算公式：$BDP = 传播时延\times 带宽$
我对于这个公式的理解是：这个公式的计算是基于时间的，对于整个传播时延的时间，我总共发出的所有比特数，就是充满整个链路的比特数。换句话来说，这个公式的根基在于，传播速度是恒定不会变化的。（可以类比水管的想法，如果水速变了，那么就不能基于时间来考量而是基于距离了)
- 单工：传输只能单向
- 半双工：可双向，但同一时间只能发或者只能收，不能同时收发
- 全双工：可同时收发
## 带宽
带宽是数据传输中极其重要的一个概念。它主要描述的是一个范围，是频率所允许的范围。对于不同的传输模式，带宽的单位也有所不同。对于模拟信号，带宽的单位是Hz，对于数字信号，带宽的单位是bps，即bit per second.
其实这两者本来是没有任何关联的，实际上，带宽最开始的定义就是频率的宽度。但是，对于一个宽度来说，存在调制的极限，使得它存在一个最大的传输速率的上限，通过这样的关联，我们就可以把模拟意义上的带宽转化为数字意义上的传输速率了。

## 比特率和波特率的互化
比特率：bps，每秒传输的比特数
波特率：Baud，每秒传输的信号单元的个数。
由于每个信号单元可表示的比特数可能很多，以下图为例子![[Pasted image 20250425145248.png]]
所以，波特率相比比特率更加“底层”一些，它考虑了调制技术的影响。
由于以上，我们也得出了本文的第一个公式——比特率和波特率的互化
$$EQ1.\ \ \ \  Bit\_Rate = Baud\_Rate\times log_2V$$
这个公式表明比特率实际上是将调制技术透明处理过后的数据速率的一种表示。
另外，波特率一般和采样速率是直接相等的关系，需要注意题目条件。

# 数据传输的理论基石
## 傅里叶变换
![[Pasted image 20250425151809.png]]
大概理解就是能够把任意的一个信号（关于时间的函数）转化为无穷级数之和。然后做成分分析。
它的总能量可以被写为是$\sqrt{a^2_n+b^2_n}$ ，通常，随着频率的升高，一般来说$a_n$和$b_n$会变小，俗称频率越高，能量越小。

## 无噪信道的传输能力
对于无噪信道，我们可以利用hz单位的带宽，推出其bps的传输能力。所利用的是奈奎斯特公式，如下所示：
$$EQ2.\ \ \ \ bit\_rate = 2\times bandwidth\times log_2V$$
根据这个理论，只要我一个信号单元的bit表示数足够大，那么我的传输能力可以到无限大。但是，实际上这是不可能的，因为我们的调制技术有限，无法分辨那么小的差距。所以这个公式一般用处不大。

## 有噪信道的传输能力——香农公式
对于有噪信道来说，很容易想到的是，我们的传输能力和噪声的大小呈反比。而且，最重要的是噪声在整个传输过程中的占比。所以我们引出信噪比(SNR)的概念。
$$EQ3.\ \ \ \ SNR =  10log_{10}(\frac{S}{N})$$
其中S代表信号功率，N代表噪声功率。这个公式计算出的单位是db（分贝）
由此引出我们的香农公式：$$EQ4.\ \ \ \ Capacity = bandwidth\times log_2(1+\frac{signal\_power}{noise\_power})$$
例题：
![[Pasted image 20250425155702.png]]

# 传输介质
## 有线传输
### 双绞线
### 同轴电缆
### 光纤
## 无线传输
### 无线电
### 微波传输
## 卫星传输
卫星传输的本质可以理解为一个放置于天空的大型的中继器。好处在于在覆盖范围内，接入设备的数量和成本不成正比，可以服务于大片设备。
利用了微波按直线传输的特性。
按照范艾伦辐射带分为了三层，近地轨道，中层轨道和高轨卫星。
其中高轨卫星是和地球自转同步，因此又称同步卫星。
![[Pasted image 20250425160504.png]]

# 数字调制技术和复用技术
## 基带传输
基带传输就是把数据编码为0和1的方波，然后把这个方波直接传输到信道上，不进行任何的处理。
因此，我们首要的就是要对数据编码。对于数据的编码方面，我们主要只关注两个编码方式
- NRZ码：即不归零码。如下所示![[Pasted image 20250425162114.png]]
- 曼彻斯特编码：按照上升沿/下降沿的方式编码0/1 ![[Pasted image 20250425162201.png]]![[Pasted image 20250425162152.png]]
### 编码格式的评价指标
#### 时间同步
由于我们的接收方，必须知道一个信号什么时候开始和什么时候结束，才能正确的对数据进行解码。因此我们需要把时钟信号进行同步，同步的方法有：
- 单独发一个时钟信号
- 将时钟信号和数据信号混合
#### 带宽效率
- 由于带宽是一个不可再生的资源，我们的编码需要保证一个信号单元至少传输1个比特。有两个不同的信号
#### 信号均衡
- 高电平时间最好和低信号时间相等，可以节省能量
- 不能有直流

## 频带传输
对于频带传输，则是把编码好的数字信号，通过调制解调器Modem，转化为模拟信号进行传输。这样做的好处是，利用傅里叶变化把一些极端的高频小能量信号删去，同时把信号映射到一个特定的频段上，减小干扰。
### 调制技术
主要分为两个
QPSK:正交相移键控
QAM:正交幅度调制
但是现在一般将两个结合起来，即又调制角度，又调制幅度。
![[Pasted image 20250425164535.png]]
## 解调技术
- 采样：根据奈奎斯特定理，采样率必须是其最大频率的两倍，才能保证恢复出原来的信号
- 量化：根据信号的强度划分为不同的级别
- 编码：转化为二进制码

## 复用技术
### 时分复用
我们可以将时间化为一些固定长度的时隙，每个设备（子信道）用一个时隙进行传输。
![[Pasted image 20250425165316.png]]
这里的一个帧中有3个时隙，每个时隙会分配给一个子信道，但是如果你不用就浪费了。所以这是一个问题。
### 频分复用
![[Pasted image 20250425165707.png]]
同一时刻，我们把数据放到不同的频率段传输即可。
### 码分复用
码分复用的核心观点是，采用不同的编码方式，将数据分开。可以理解为是，每个人说不同的语言，然后这样同时说话的话，对于机器来说，只能理解一种语言，其他人的就是噪音了。

# 电话网络系统
## 结构
放个图自己了解一下就行![[Pasted image 20250425170238.png]]
通过将模拟信号转化为数字信号进行传播，然后再把数字信号转化回模拟信号进行收听。
8Khz采样，一个信号单元传输8bit

# 交换技术
## 电路交换
主要分为三个阶段，电路建立，数据传输，电路终止。
特点：
- 两个节点之间直接建立物理连接，无需复用信道，两个人独占信道。
- 固定带宽
- 信道的浪费
## 报文交换
设立一个“邮局”，对信息进行储存-转发工作。
- 对于每个节点来说，都要存储完整信息，然后发送到下一个节点

## 分组交换
和报文交换的中心思想类似，但是把数据分为一个个包，有利于动态分配资源。
特点：
- 数据被限制为小包：包含数据和控制信息
- 控制信息包括路由地址信息
- 存储-转发
好处：
- 排队快（根据排队论算出的）
- 拥塞控制
- 速率控制
坏处：
- QoS没有保证
- 延迟高
- 网络复杂

## 各个交换技术的时延计算（重点）
![[Pasted image 20250425171620.png]]
可以以下面这道例题来理解一下时延的计算
![[image.png]]
解：首先计算电路交换电路，电路交换的时延构成是：传输时延+传播时延+电路建立时延。
那么可以得到：$$T_{circuit} = kd+s+\frac{x}{b}$$
接下来计算分组交换的时延：其构成是：总传播时延+总传输时延 = 每一跳的传输时延之和+总传播时延
由于每一跳之间的传播时延远远小于传输时延，我们可以近似的任务，在k-1跳节点开始传输第i-1组数据的时候，k跳节点也开始传输第i组的数据了。
因此我们可以得到这样的一个模型：假设总共有i组数据，前i-1组数据在初始跳的全部传输时延计算完毕之后，第一个包已经走完所有的节点了，因此只用计算前i-1的传输时延和最后一个包在每一跳的传输时延，再加上总传播时延就可以了
即得：$$T_{packet} = (\frac{x}{p}-1)\frac{p}{b}+kd+\frac{kp}{b}$$
要使得分组交换的时延更小，那么有：$$p\lt \frac{sb}{k-1}$$

