---
categories:
  - 计算机
tags:
  - 计算机网络
mathjax: "false"
title:
  - Go–Back–N 协议在有误码条件下的信道利用率推导
date: 2025-05-05 17:15:03
---

## 1. 系统模型与符号说明

- **信道类型**：全双工，采用 piggybacking 技术  
- **滑动窗口大小**：$N=8$  
- **每帧长度（有效载荷）**：$L$ 比特（固定）  
- **比特误码率**：$p$，则  
  - 数据帧成功概率：$P_{\rm data} = (1 - p)^L$  
  - 确认帧成功概率：$P_{\rm ack}  = (1 - p)^{16}$  
  - 一次数据–确认握手成功概率：  
    $$P_0 = P_{\rm data}\,P_{\rm ack} = (1 - p)^{L+16}.$$  
- **发送时延**：$T_{\rm trans}=8\rm\ ms$  
- **单向传播时延**：$T_{\rm prop}=270\rm\ ms$  
- **延迟比**：  
  $$a = \frac{T_{\rm prop}}{T_{\rm trans}} = \frac{270}{263} = 1.0266$$


## 2. 有误码条件下的平均有效帧数

在一次发送窗口周期内，发送方总共发送 $N$ 帧。记  
$$X = \text{本周期内成功并被确认的数据帧数}.$$  
第 $i$ 帧（$1\le i\le N$）成为首个失败帧的事件概率为  
$$\Pr(\text{第 }i\text{ 帧失败且前 }i-1\text{ 帧成功})= P_0^{\,i-1}\,(1 - P_0),$$  
“全部成功”概率为 $P_0^N$。于是  
$$E[X]= \sum_{i=1}^N (i-1)\,P_0^{\,i-1}(1 - P_0) + N\,P_0^N= \frac{P_0 - P_0^{\,N+1}}{1 - P_0}$$

## 3. 有误码条件下的信道利用率

同样周期时长 $T = (N + 2a)\,T_{\rm trans}$，平均有效发送时间为  
$$E[X]\,T_{\rm trans}= \frac{P_0 - P_0^{\,N+1}}{1 - P_0}\;T_{\rm trans}$$  
因此有误码时的信道利用率  
$$U= \frac{E[X]\,T_{\rm trans}}{T}= \frac{\bigl(P_0 - P_0^{\,N+1}\bigr)/(1 - P_0)\;T_{\rm trans}}{(N + 2a)\,T_{\rm trans}}= \frac{P_0 - P_0^{\,N+1}}{(1 - P_0)\,(N + 2a)}$$  
其中  
$$P_0 = (1 - p)^{L+16}, \quad a = \frac{T_{\rm prop}}{T_{\rm trans}}$$

## 4. 示例计算

代入比特误码率 $p=10^{-4}$、帧长 $L=263*8$，则  
$$P_0 = (1 - 10^{-4})^{263*8+16} \approx 0.8100, \quad N + 2a = 8 + 2\times 1.027 =10.053$$  
代入可得  
$$U \approx \frac{0.81 - 0.81^{9}}{(1 - 0.81)\,10.053} \approx 0.346$$

 
